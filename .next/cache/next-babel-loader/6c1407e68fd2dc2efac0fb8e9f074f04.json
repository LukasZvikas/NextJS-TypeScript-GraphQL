{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault2 = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/inherits\"));\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/map\"));\n\nvar _url = require(\"url\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nvar _rewriteUrlForExport = require(\"next-server/dist/lib/router/rewrite-url-for-export\");\n\nvar _utils = require(\"next-server/dist/lib/utils\");\n/* global __NEXT_DATA__ */\n\n\nfunction isLocal(href) {\n  var url = (0, _url.parse)(href, false, true);\n  var origin = (0, _url.parse)((0, _utils.getLocationOrigin)(), false, true);\n  return !url.host || url.protocol === origin.protocol && url.host === origin.host;\n}\n\nfunction memoizedFormatUrl(formatFunc) {\n  var lastHref = null;\n  var lastAs = null;\n  var lastResult = null;\n  return function (href, as) {\n    if (lastResult && href === lastHref && as === lastAs) {\n      return lastResult;\n    }\n\n    var result = formatFunc(href, as);\n    lastHref = href;\n    lastAs = as;\n    lastResult = result;\n    return result;\n  };\n}\n\nfunction formatUrl(url) {\n  return url && typeof url === 'object' ? (0, _utils.formatWithValidation)(url) : url;\n}\n\nvar observer;\nvar listeners = new _map.default();\nvar IntersectionObserver = typeof window !== 'undefined' ? window.IntersectionObserver : null;\n\nfunction getObserver() {\n  // Return shared instance of IntersectionObserver if already created\n  if (observer) {\n    return observer;\n  } // Only create shared IntersectionObserver if supported in browser\n\n\n  if (!IntersectionObserver) {\n    return undefined;\n  }\n\n  return observer = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (!listeners.has(entry.target)) {\n        return;\n      }\n\n      var cb = listeners.get(entry.target);\n\n      if (entry.isIntersecting || entry.intersectionRatio > 0) {\n        observer.unobserve(entry.target);\n        listeners.delete(entry.target);\n        cb();\n      }\n    });\n  }, {\n    rootMargin: '200px'\n  });\n}\n\nvar listenToIntersections = function listenToIntersections(el, cb) {\n  var observer = getObserver();\n\n  if (!observer) {\n    return function () {};\n  }\n\n  observer.observe(el);\n  listeners.set(el, cb);\n  return function () {\n    observer.unobserve(el);\n    listeners.delete(el);\n  };\n};\n\nvar Link =\n/*#__PURE__*/\nfunction (_react$Component) {\n  (0, _inherits2.default)(Link, _react$Component);\n\n  function Link() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Link);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Link)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.cleanUpListeners = function () {};\n\n    _this.formatUrls = memoizedFormatUrl(function (href, asHref) {\n      return {\n        href: formatUrl(href),\n        as: asHref ? formatUrl(asHref) : asHref\n      };\n    });\n\n    _this.linkClicked = function (e) {\n      // @ts-ignore target exists on currentTarget\n      var _e$currentTarget = e.currentTarget,\n          nodeName = _e$currentTarget.nodeName,\n          target = _e$currentTarget.target;\n\n      if (nodeName === 'A' && (target && target !== '_self' || e.metaKey || e.ctrlKey || e.shiftKey || e.nativeEvent && e.nativeEvent.which === 2)) {\n        // ignore click for new tab / new window behavior\n        return;\n      }\n\n      var _this$formatUrls = _this.formatUrls(_this.props.href, _this.props.as),\n          href = _this$formatUrls.href,\n          as = _this$formatUrls.as;\n\n      if (!isLocal(href)) {\n        // ignore click if it's outside our scope\n        return;\n      }\n\n      var pathname = window.location.pathname;\n      href = (0, _url.resolve)(pathname, href);\n      as = as ? (0, _url.resolve)(pathname, as) : href;\n      e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n      var scroll = _this.props.scroll;\n\n      if (scroll == null) {\n        scroll = as.indexOf('#') < 0;\n      } // replace state instead of push if prop is present\n\n\n      _router.default[_this.props.replace ? 'replace' : 'push'](href, as, {\n        shallow: _this.props.shallow\n      }).then(function (success) {\n        if (!success) return;\n\n        if (scroll) {\n          window.scrollTo(0, 0);\n          document.body.focus();\n        }\n      }).catch(function (err) {\n        if (_this.props.onError) _this.props.onError(err);\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Link, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.cleanUpListeners = function () {};\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cleanUpListeners();\n    }\n  }, {\n    key: \"handleRef\",\n    value: function handleRef(ref) {\n      var _this2 = this;\n\n      if (IntersectionObserver && ref && ref.tagName) {\n        this.cleanUpListeners = listenToIntersections(ref, function () {\n          _this2.prefetch();\n        });\n      }\n    } // The function is memoized so that no extra lifecycles are needed\n    // as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\n\n  }, {\n    key: \"prefetch\",\n    value: function prefetch() {\n      if (typeof window === 'undefined') return; // Prefetch the JSON page if asked (only in the client)\n\n      var pathname = window.location.pathname;\n\n      var _this$formatUrls2 = this.formatUrls(this.props.href, this.props.as),\n          parsedHref = _this$formatUrls2.href;\n\n      var href = (0, _url.resolve)(pathname, parsedHref);\n\n      _router.default.prefetch(href);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var children = this.props.children;\n\n      var _this$formatUrls3 = this.formatUrls(this.props.href, this.props.as),\n          href = _this$formatUrls3.href,\n          as = _this$formatUrls3.as; // Deprecated. Warning shown by propType check. If the childen provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n\n      if (typeof children === 'string') {\n        children = _react.default.createElement(\"a\", null, children);\n      } // This will return the first child, if multiple are provided it will throw an error\n\n\n      var child = _react.Children.only(children);\n\n      var props = {\n        ref: function ref(el) {\n          return _this3.handleRef(el);\n        },\n        onMouseEnter: function onMouseEnter() {\n          _this3.prefetch();\n        },\n        onClick: function onClick(e) {\n          if (child.props && typeof child.props.onClick === 'function') {\n            child.props.onClick(e);\n          }\n\n          if (!e.defaultPrevented) {\n            _this3.linkClicked(e);\n          }\n        } // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n        // defined, we specify the current 'href', so that repetition is not needed by the user\n\n      };\n\n      if (this.props.passHref || child.type === 'a' && !('href' in child.props)) {\n        props.href = as || href;\n      } // Add the ending slash to the paths. So, we can serve the\n      // \"<page>/index.html\" directly.\n\n\n      if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n        if (props.href && typeof __NEXT_DATA__ !== 'undefined' && __NEXT_DATA__.nextExport) {\n          props.href = (0, _rewriteUrlForExport.rewriteUrlForNextExport)(props.href);\n        }\n      }\n\n      return _react.default.cloneElement(child, props);\n    }\n  }]);\n  return Link;\n}(_react.Component);\n\nLink.propTypes = void 0;\n\nif (process.env.NODE_ENV === 'development') {\n  var warn = (0, _utils.execOnce)(console.error); // This module gets removed by webpack.IgnorePlugin\n\n  var exact = require('prop-types-exact');\n\n  Link.propTypes = exact({\n    href: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]).isRequired,\n    as: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\n    prefetch: _propTypes.default.bool,\n    replace: _propTypes.default.bool,\n    shallow: _propTypes.default.bool,\n    passHref: _propTypes.default.bool,\n    scroll: _propTypes.default.bool,\n    children: _propTypes.default.oneOfType([_propTypes.default.element, function (props, propName) {\n      var value = props[propName];\n\n      if (typeof value === 'string') {\n        warn(\"Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>\");\n      }\n\n      return null;\n    }]).isRequired\n  });\n}\n\nvar _default = Link;\nexports.default = _default;","map":{"version":3,"sources":["/Users/lukas/Documents/GitHub/nextjs-graphql-typescript/node_modules/next/dist/client/link.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","exports","__esModule","default","_map","_url","_react","_propTypes","_router","_rewriteUrlForExport","_utils","isLocal","href","url","parse","origin","getLocationOrigin","host","protocol","memoizedFormatUrl","formatFunc","lastHref","lastAs","lastResult","as","result","formatUrl","formatWithValidation","observer","listeners","IntersectionObserver","window","getObserver","undefined","entries","forEach","entry","has","target","cb","get","isIntersecting","intersectionRatio","unobserve","delete","rootMargin","listenToIntersections","el","observe","set","Link","args","cleanUpListeners","formatUrls","asHref","linkClicked","e","_e$currentTarget","currentTarget","nodeName","metaKey","ctrlKey","shiftKey","nativeEvent","which","_this$formatUrls","props","pathname","location","resolve","preventDefault","scroll","indexOf","replace","shallow","then","success","scrollTo","document","body","focus","catch","err","onError","ref","tagName","prefetch","_this$formatUrls2","parsedHref","children","_this$formatUrls3","createElement","child","Children","only","handleRef","onMouseEnter","onClick","defaultPrevented","passHref","type","process","env","__NEXT_EXPORT_TRAILING_SLASH","__NEXT_DATA__","nextExport","rewriteUrlForNextExport","cloneElement","Component","propTypes","NODE_ENV","warn","execOnce","console","error","exact","oneOfType","string","object","isRequired","bool","element","propName","value","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _map=_interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/map\"));var _url=require(\"url\");var _react=_interopRequireWildcard(require(\"react\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _router=_interopRequireDefault(require(\"./router\"));var _rewriteUrlForExport=require(\"next-server/dist/lib/router/rewrite-url-for-export\");var _utils=require(\"next-server/dist/lib/utils\");/* global __NEXT_DATA__ */function isLocal(href){const url=(0,_url.parse)(href,false,true);const origin=(0,_url.parse)((0,_utils.getLocationOrigin)(),false,true);return!url.host||url.protocol===origin.protocol&&url.host===origin.host;}function memoizedFormatUrl(formatFunc){let lastHref=null;let lastAs=null;let lastResult=null;return(href,as)=>{if(lastResult&&href===lastHref&&as===lastAs){return lastResult;}const result=formatFunc(href,as);lastHref=href;lastAs=as;lastResult=result;return result;};}function formatUrl(url){return url&&typeof url==='object'?(0,_utils.formatWithValidation)(url):url;}let observer;const listeners=new _map.default();const IntersectionObserver=typeof window!=='undefined'?window.IntersectionObserver:null;function getObserver(){// Return shared instance of IntersectionObserver if already created\nif(observer){return observer;}// Only create shared IntersectionObserver if supported in browser\nif(!IntersectionObserver){return undefined;}return observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(!listeners.has(entry.target)){return;}const cb=listeners.get(entry.target);if(entry.isIntersecting||entry.intersectionRatio>0){observer.unobserve(entry.target);listeners.delete(entry.target);cb();}});},{rootMargin:'200px'});}const listenToIntersections=(el,cb)=>{const observer=getObserver();if(!observer){return()=>{};}observer.observe(el);listeners.set(el,cb);return()=>{observer.unobserve(el);listeners.delete(el);};};class Link extends _react.Component{constructor(...args){super(...args);this.cleanUpListeners=()=>{};this.formatUrls=memoizedFormatUrl((href,asHref)=>{return{href:formatUrl(href),as:asHref?formatUrl(asHref):asHref};});this.linkClicked=e=>{// @ts-ignore target exists on currentTarget\nconst _e$currentTarget=e.currentTarget,nodeName=_e$currentTarget.nodeName,target=_e$currentTarget.target;if(nodeName==='A'&&(target&&target!=='_self'||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&e.nativeEvent.which===2)){// ignore click for new tab / new window behavior\nreturn;}let _this$formatUrls=this.formatUrls(this.props.href,this.props.as),href=_this$formatUrls.href,as=_this$formatUrls.as;if(!isLocal(href)){// ignore click if it's outside our scope\nreturn;}const pathname=window.location.pathname;href=(0,_url.resolve)(pathname,href);as=as?(0,_url.resolve)(pathname,as):href;e.preventDefault();//  avoid scroll for urls with anchor refs\nlet scroll=this.props.scroll;if(scroll==null){scroll=as.indexOf('#')<0;}// replace state instead of push if prop is present\n_router.default[this.props.replace?'replace':'push'](href,as,{shallow:this.props.shallow}).then(success=>{if(!success)return;if(scroll){window.scrollTo(0,0);document.body.focus();}}).catch(err=>{if(this.props.onError)this.props.onError(err);});};}componentDidMount(){this.cleanUpListeners=()=>{};}componentWillUnmount(){this.cleanUpListeners();}handleRef(ref){if(IntersectionObserver&&ref&&ref.tagName){this.cleanUpListeners=listenToIntersections(ref,()=>{this.prefetch();});}}// The function is memoized so that no extra lifecycles are needed\n// as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\nprefetch(){if(typeof window==='undefined')return;// Prefetch the JSON page if asked (only in the client)\nconst pathname=window.location.pathname;const _this$formatUrls2=this.formatUrls(this.props.href,this.props.as),parsedHref=_this$formatUrls2.href;const href=(0,_url.resolve)(pathname,parsedHref);_router.default.prefetch(href);}render(){let children=this.props.children;const _this$formatUrls3=this.formatUrls(this.props.href,this.props.as),href=_this$formatUrls3.href,as=_this$formatUrls3.as;// Deprecated. Warning shown by propType check. If the childen provided is a string (<Link>example</Link>) we wrap it in an <a> tag\nif(typeof children==='string'){children=_react.default.createElement(\"a\",null,children);}// This will return the first child, if multiple are provided it will throw an error\nconst child=_react.Children.only(children);const props={ref:el=>this.handleRef(el),onMouseEnter:()=>{this.prefetch();},onClick:e=>{if(child.props&&typeof child.props.onClick==='function'){child.props.onClick(e);}if(!e.defaultPrevented){this.linkClicked(e);}}// If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n// defined, we specify the current 'href', so that repetition is not needed by the user\n};if(this.props.passHref||child.type==='a'&&!('href'in child.props)){props.href=as||href;}// Add the ending slash to the paths. So, we can serve the\n// \"<page>/index.html\" directly.\nif(process.env.__NEXT_EXPORT_TRAILING_SLASH){if(props.href&&typeof __NEXT_DATA__!=='undefined'&&__NEXT_DATA__.nextExport){props.href=(0,_rewriteUrlForExport.rewriteUrlForNextExport)(props.href);}}return _react.default.cloneElement(child,props);}}Link.propTypes=void 0;if(process.env.NODE_ENV==='development'){const warn=(0,_utils.execOnce)(console.error);// This module gets removed by webpack.IgnorePlugin\nconst exact=require('prop-types-exact');Link.propTypes=exact({href:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.object]).isRequired,as:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.object]),prefetch:_propTypes.default.bool,replace:_propTypes.default.bool,shallow:_propTypes.default.bool,passHref:_propTypes.default.bool,scroll:_propTypes.default.bool,children:_propTypes.default.oneOfType([_propTypes.default.element,(props,propName)=>{const value=props[propName];if(typeof value==='string'){warn(`Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>`);}return null;}]).isRequired});}var _default=Link;exports.default=_default;"]},"metadata":{},"sourceType":"script"}