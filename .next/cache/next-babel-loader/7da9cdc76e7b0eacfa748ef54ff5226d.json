{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault2 = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault2(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\"));\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _router = _interopRequireDefault(require(\"next/router\"));\n\nvar _onDemandEntriesUtils = require(\"./on-demand-entries-utils\");\n/* global window */\n\n\nvar _default =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee(_ref) {\n    var assetPrefix;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            assetPrefix = _ref.assetPrefix;\n\n            _router.default.ready(function () {\n              _router.default.events.on('routeChangeComplete', _onDemandEntriesUtils.setupPing.bind(void 0, assetPrefix, function () {\n                return _router.default.pathname;\n              }));\n            });\n\n            (0, _onDemandEntriesUtils.setupPing)(assetPrefix, function () {\n              return _router.default.pathname;\n            }, _onDemandEntriesUtils.currentPage);\n            document.addEventListener('visibilitychange', function (event) {\n              var state = document.visibilityState;\n\n              if (state === 'visible') {\n                (0, _onDemandEntriesUtils.setupPing)(assetPrefix, function () {\n                  return _router.default.pathname;\n                }, true);\n              } else {\n                (0, _onDemandEntriesUtils.closePing)();\n              }\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function _default(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/lukas/Documents/GitHub/nextjs-graphql-typescript/node_modules/next/dist/client/on-demand-entries-client.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_router","_onDemandEntriesUtils","_default","assetPrefix","ready","events","on","setupPing","bind","pathname","currentPage","document","addEventListener","event","state","visibilityState","closePing"],"mappings":"AAAA;;;;;;;;AAAa,IAAIA,sBAAsB,GAACC,OAAO,CAAC,sDAAD,CAAlC;;AAA2FC,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,OAAR,GAAgB,KAAK,CAArB;;AAAuB,IAAIC,OAAO,GAACL,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAlC;;AAA2D,IAAIK,qBAAqB,GAACL,OAAO,CAAC,2BAAD,CAAjC;AAA+D;;;AAAmB,IAAIM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAOC,YAAAA,WAAP,QAAOA,WAAP;;AAAuBH,YAAAA,OAAO,CAACD,OAAR,CAAgBK,KAAhB,CAAsB,YAAI;AAACJ,cAAAA,OAAO,CAACD,OAAR,CAAgBM,MAAhB,CAAuBC,EAAvB,CAA0B,qBAA1B,EAAgDL,qBAAqB,CAACM,SAAtB,CAAgCC,IAAhC,CAAqC,KAAK,CAA1C,EAA4CL,WAA5C,EAAwD;AAAA,uBAAIH,OAAO,CAACD,OAAR,CAAgBU,QAApB;AAAA,eAAxD,CAAhD;AAAwI,aAAnK;;AAAqK,aAAC,GAAER,qBAAqB,CAACM,SAAzB,EAAoCJ,WAApC,EAAgD;AAAA,qBAAIH,OAAO,CAACD,OAAR,CAAgBU,QAApB;AAAA,aAAhD,EAA6ER,qBAAqB,CAACS,WAAnG;AAAgHC,YAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA6C,UAAAC,KAAK,EAAE;AAAC,kBAAMC,KAAK,GAACH,QAAQ,CAACI,eAArB;;AAAqC,kBAAGD,KAAK,KAAG,SAAX,EAAqB;AAAC,iBAAC,GAAEb,qBAAqB,CAACM,SAAzB,EAAoCJ,WAApC,EAAgD;AAAA,yBAAIH,OAAO,CAACD,OAAR,CAAgBU,QAApB;AAAA,iBAAhD,EAA6E,IAA7E;AAAoF,eAA1G,MAA8G;AAAC,iBAAC,GAAER,qBAAqB,CAACe,SAAzB;AAAuC;AAAC,aAAjP;;AAA5S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;;AAAA,kBAARd,QAAQ;AAAA;AAAA;AAAA,GAAZ;;AAA8iBL,OAAO,CAACE,OAAR,GAAgBG,QAAhB","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _router=_interopRequireDefault(require(\"next/router\"));var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");/* global window */var _default=async({assetPrefix})=>{_router.default.ready(()=>{_router.default.events.on('routeChangeComplete',_onDemandEntriesUtils.setupPing.bind(void 0,assetPrefix,()=>_router.default.pathname));});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,_onDemandEntriesUtils.currentPage);document.addEventListener('visibilitychange',event=>{const state=document.visibilityState;if(state==='visible'){(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,true);}else{(0,_onDemandEntriesUtils.closePing)();}});};exports.default=_default;"]},"metadata":{},"sourceType":"script"}