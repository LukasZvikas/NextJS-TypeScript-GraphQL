{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault2 = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault2(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault2(require(\"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\"));\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _unfetch = _interopRequireDefault(require(\"unfetch\"));\n\nvar _eventSourcePolyfill = _interopRequireDefault(require(\"./event-source-polyfill\"));\n\nvar _eventsource = require(\"./dev-error-overlay/eventsource\");\n\nvar _onDemandEntriesUtils = require(\"./on-demand-entries-utils\");\n/* globals __webpack_hash__ */\n\n\nif (!window.EventSource) {\n  window.EventSource = _eventSourcePolyfill.default;\n}\n\nvar data = JSON.parse(document.getElementById('__NEXT_DATA__').textContent);\nvar assetPrefix = data.assetPrefix,\n    page = data.page;\nassetPrefix = assetPrefix || '';\nvar mostRecentHash = null;\n/* eslint-disable-next-line */\n\nvar curHash = __webpack_hash__;\nvar hotUpdatePath = assetPrefix + (assetPrefix.endsWith('/') ? '' : '/') + '_next/static/webpack/'; // Is there a newer version of this code available?\n\nfunction isUpdateAvailable() {\n  // __webpack_hash__ is the hash of the current compilation.\n  // It's a global variable injected by Webpack.\n\n  /* eslint-disable-next-line */\n  return mostRecentHash !== __webpack_hash__;\n} // Webpack disallows updates in other states.\n\n\nfunction canApplyUpdates() {\n  return module.hot.status() === 'idle';\n} // This function reads code updates on the fly and hard\n// reloads the page when it has changed.\n\n\nfunction tryApplyUpdates() {\n  return _tryApplyUpdates.apply(this, arguments);\n}\n\nfunction _tryApplyUpdates() {\n  _tryApplyUpdates = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee() {\n    var res, _data, curPage, pageUpdated;\n\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(!isUpdateAvailable() || !canApplyUpdates())) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            _context.prev = 2;\n            _context.next = 5;\n            return (0, _unfetch.default)(\"\".concat(hotUpdatePath).concat(curHash, \".hot-update.json\"));\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return res.json();\n\n          case 8:\n            _data = _context.sent;\n            curPage = page === '/' ? 'index' : page;\n            pageUpdated = (0, _keys.default)(_data.c).some(function (mod) {\n              return mod.indexOf(\"pages\".concat(curPage.substr(0, 1) === '/' ? curPage : \"/\".concat(curPage))) !== -1 || mod.indexOf(\"pages\".concat(curPage.substr(0, 1) === '/' ? curPage : \"/\".concat(curPage)).replace(/\\//g, '\\\\')) !== -1;\n            });\n\n            if (pageUpdated) {\n              document.location.reload(true);\n            } else {\n              curHash = mostRecentHash;\n            }\n\n            _context.next = 18;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](2);\n            console.error('Error occurred checking for update', _context.t0);\n            document.location.reload(true);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 14]]);\n  }));\n  return _tryApplyUpdates.apply(this, arguments);\n}\n\n(0, _eventsource.getEventSourceWrapper)({\n  path: \"\".concat(assetPrefix, \"/_next/webpack-hmr\")\n}).addMessageListener(function (event) {\n  if (event.data === \"\\uD83D\\uDC93\") {\n    return;\n  }\n\n  try {\n    var message = JSON.parse(event.data);\n\n    if (message.action === 'sync' || message.action === 'built') {\n      if (!message.hash) {\n        return;\n      }\n\n      mostRecentHash = message.hash;\n      tryApplyUpdates();\n    } else if (message.action === 'reloadPage') {\n      document.location.reload(true);\n    }\n  } catch (ex) {\n    console.warn('Invalid HMR message: ' + event.data + '\\n' + ex);\n  }\n});\n(0, _onDemandEntriesUtils.setupPing)(assetPrefix, function () {\n  return page;\n});","map":{"version":3,"sources":["/Users/lukas/Documents/GitHub/nextjs-graphql-typescript/node_modules/next/dist/client/amp-dev.js"],"names":["_interopRequireDefault","require","_keys","_unfetch","_eventSourcePolyfill","_eventsource","_onDemandEntriesUtils","window","EventSource","default","data","JSON","parse","document","getElementById","textContent","assetPrefix","page","mostRecentHash","curHash","__webpack_hash__","hotUpdatePath","endsWith","isUpdateAvailable","canApplyUpdates","module","hot","status","tryApplyUpdates","res","json","curPage","pageUpdated","c","some","mod","indexOf","substr","replace","location","reload","console","error","getEventSourceWrapper","path","addMessageListener","event","message","action","hash","ex","warn","setupPing"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");var _keys=_interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));var _unfetch=_interopRequireDefault(require(\"unfetch\"));var _eventSourcePolyfill=_interopRequireDefault(require(\"./event-source-polyfill\"));var _eventsource=require(\"./dev-error-overlay/eventsource\");var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");/* globals __webpack_hash__ */if(!window.EventSource){window.EventSource=_eventSourcePolyfill.default;}const data=JSON.parse(document.getElementById('__NEXT_DATA__').textContent);let assetPrefix=data.assetPrefix,page=data.page;assetPrefix=assetPrefix||'';let mostRecentHash=null;/* eslint-disable-next-line */let curHash=__webpack_hash__;const hotUpdatePath=assetPrefix+(assetPrefix.endsWith('/')?'':'/')+'_next/static/webpack/';// Is there a newer version of this code available?\nfunction isUpdateAvailable(){// __webpack_hash__ is the hash of the current compilation.\n// It's a global variable injected by Webpack.\n/* eslint-disable-next-line */return mostRecentHash!==__webpack_hash__;}// Webpack disallows updates in other states.\nfunction canApplyUpdates(){return module.hot.status()==='idle';}// This function reads code updates on the fly and hard\n// reloads the page when it has changed.\nasync function tryApplyUpdates(){if(!isUpdateAvailable()||!canApplyUpdates()){return;}try{const res=await(0,_unfetch.default)(`${hotUpdatePath}${curHash}.hot-update.json`);const data=await res.json();const curPage=page==='/'?'index':page;const pageUpdated=(0,_keys.default)(data.c).some(mod=>{return mod.indexOf(`pages${curPage.substr(0,1)==='/'?curPage:`/${curPage}`}`)!==-1||mod.indexOf(`pages${curPage.substr(0,1)==='/'?curPage:`/${curPage}`}`.replace(/\\//g,'\\\\'))!==-1;});if(pageUpdated){document.location.reload(true);}else{curHash=mostRecentHash;}}catch(err){console.error('Error occurred checking for update',err);document.location.reload(true);}}(0,_eventsource.getEventSourceWrapper)({path:`${assetPrefix}/_next/webpack-hmr`}).addMessageListener(event=>{if(event.data==='\\uD83D\\uDC93'){return;}try{const message=JSON.parse(event.data);if(message.action==='sync'||message.action==='built'){if(!message.hash){return;}mostRecentHash=message.hash;tryApplyUpdates();}else if(message.action==='reloadPage'){document.location.reload(true);}}catch(ex){console.warn('Invalid HMR message: '+event.data+'\\n'+ex);}});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>page);"]},"metadata":{},"sourceType":"script"}