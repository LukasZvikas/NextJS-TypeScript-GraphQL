{"version":3,"file":"static/webpack/static/development/pages/detail.js.f31f5f690f1b36cd545c.hot-update.js","sources":["webpack:///./components/WithAuth.tsx"],"sourcesContent":["import React, { ComponentClass, Component } from 'react';\nimport gql from 'graphql-tag';\nimport redirect from '../lib/redirect';\n\nexport const withAuth = <T extends object>(C: ComponentClass<T>) => {\n    return class IsAuth extends Component<T> {\n        static async getInitialProps(context: any) {\n            try {\n                const response = await context.apolloClient.query({\n                    query: gql`\n                    query {\n                        getUser {\n                            _id\n                            email\n                        }\n                    }\n                    `\n                });\n                return { user: response.data.getUser }\n            }\n            catch (err) {\n                redirect(context, '/');\n                return {};\n            }\n        }\n        render() {\n            return <C {...this.props} />\n        }\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAqBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AADA;AACA;AAJA;AAGA;AAHA;AAaA;AAAA;AACA;AAdA;AAAA;AAAA;AAgBA;AAhBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAwBA;;;;A","sourceRoot":""}