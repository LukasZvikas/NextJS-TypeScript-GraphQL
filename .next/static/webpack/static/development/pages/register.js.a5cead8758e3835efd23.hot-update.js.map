{"version":3,"file":"static/webpack/static/development/pages/register.js.a5cead8758e3835efd23.hot-update.js","sources":["webpack:///./components/AuthRender.tsx"],"sourcesContent":["import { Component, ChangeEvent, FormEvent } from \"react\";\n\ninterface AuthType {\n    email?: string;\n    password?: string;\n    passwordConfirm?: string;\n}\n\ninterface LoginState {\n    auth: AuthType;\n    errorMessage?: string;\n}\n\ninterface InjectedProps {\n    onInputChange: (e: ChangeEvent<HTMLInputElement>) => void;\n    handleSubmit: (\n        {\n            auth,\n            mutate,\n            validateInputs\n        }: {\n            auth: AuthType;\n            mutate: any;\n            validateInputs: (auth: AuthType) => string | null;\n        },\n        event: FormEvent<EventTarget>\n    ) => void;\n    errorMessage: string;\n    auth: AuthType;\n}\n\ninterface LoginProps {\n    user?: {\n        email: string;\n        _id: string;\n    };\n    data?: any;\n    children(props: InjectedProps): JSX.Element;\n}\n\nclass AuthRender extends Component<LoginProps, LoginState> {\n    state = {\n        auth: {},\n        errorMessage: \"\"\n    };\n\n    handleSubmit(\n        {\n            auth,\n            mutate,\n            validateInputs\n        }: {\n            auth: AuthType;\n            mutate: any;\n            validateInputs: any;\n        },\n        event: FormEvent<EventTarget>\n    ) {\n        event.preventDefault();\n        console.log(\"this.pros\", this.props);\n        const isInvalidInputs = validateInputs(auth);\n        if (isInvalidInputs) {\n            this.setState({ errorMessage: isInvalidInputs });\n            return;\n        }\n\n        mutate({ variables: { ...auth } });\n    }\n\n    clearErrorMessage() {\n        this.setState({ errorMessage: \"\" });\n    }\n\n    onInputChange(errorMessage: string, { target }: any): void {\n        if (errorMessage) {\n            this.clearErrorMessage();\n        }\n        this.setState({\n            auth: {\n                ...this.state.auth,\n                [target.name]: target.value\n            }\n        });\n    }\n\n    render() {\n        const { errorMessage, auth } = this.state;\n        return this.props.children({\n            auth,\n            handleSubmit: this.handleSubmit,\n            onInputChange: this.onInputChange.bind(this, errorMessage),\n            errorMessage\n        });\n    }\n}\n\nexport default AuthRender;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAuCA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;;;;;;AAcA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAMA;;;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;;;;AArDA;AACA;AAuDA;;;;A","sourceRoot":""}