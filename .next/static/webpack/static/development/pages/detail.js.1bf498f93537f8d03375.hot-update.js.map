{"version":3,"file":"static/webpack/static/development/pages/detail.js.1bf498f93537f8d03375.hot-update.js","sources":["webpack:///./components/WithAuth.tsx"],"sourcesContent":["import React, { ComponentClass, Component } from 'react';\nimport { GET_USER_QUERY } from '../graphql/auth/getUser';\nimport redirect from '../lib/redirect';\n\nexport const withAuth = <T extends object>(C: ComponentClass<T>) => {\n    return class IsAuth extends Component<T> {\n        static async getInitialProps(context: any) {\n            return context.apolloClient.query({\n                query: GET_USER_QUERY\n            }).then((res: any) => {\n                return { user: res.data.getUser };\n            })\n                .catch((e: any) => {\n                    console.log('error', e);\n                    redirect(context, '/login');\n                    return { user: {} };\n\n                });\n        }\n\n        render() {\n            return <C {...this.props} />\n        }\n    }\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AAGA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAmBA;;;;A","sourceRoot":""}