{"version":3,"file":"static/webpack/static/development/pages/detail.js.7b3d74c78c00d6f2f719.hot-update.js","sources":["webpack:///./components/WithAuth.tsx"],"sourcesContent":["import React, { ComponentClass, Component } from 'react';\nimport gql from 'graphql-tag';\nimport redirect from '../lib/redirect';\n\nexport const withAuth = <T extends object>(C: ComponentClass<T>) => {\n    return class IsAuth extends Component<T> {\n        static async getInitialProps(context: any) {\n            console.log('context');\n            // console.log('apollo', context.apolloClient);\n\n            try {\n                const response = await context.apolloClient.query({\n                    query: gql`\n                    query {\n                        getUser {\n                            _id\n                            email\n                        }\n                    }\n            `\n                });\n                return { user: response.data.getUser }\n            }\n            catch (err) {\n                redirect(context, '/');\n                return {};\n            }\n        }\n        render() {\n            return <C {...this.props} />\n        }\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAwBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAOA;AADA;AACA;AAPA;AAMA;AANA;AAgBA;AAAA;AACA;AAjBA;AAAA;AAAA;AAmBA;AAnBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AA2BA;;;;A","sourceRoot":""}